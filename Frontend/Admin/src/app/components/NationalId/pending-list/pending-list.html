<section class="flex w-full min-h-screen bg-gray-50 dark:bg-gray-900 ">
  <div [ngClass]="{
        'fixed inset-0 z-50 transform transition-transform duration-300': isMobile(),
        '-translate-x-full': isMobile() && !isSidebarOpen,

        'w-7': !isSidebarOpen && !isMobile(),
        'w-60': isSidebarOpen || isMobile()
      }" class="bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 flex-shrink-0">
    <app-sidebar [collapsed]="!isSidebarOpen"></app-sidebar>
  </div>

  <div *ngIf="isSidebarOpen && isMobile()" class="fixed inset-0 bg-black/40 z-40" (click)="toggleSidebar()"></div>

  <main [ngClass]="{
      'ml-0 w-full': isMobile(),
      'ml-9 w-[calc(100%-2rem)]': !isSidebarOpen && !isMobile(),   
      'ml-5 w-[calc(100%-14rem)]': isSidebarOpen && !isMobile()   
    }" class="flex flex-col transition-all duration-300  overflow-auto">

    <app-admin-header [isDarkMode]="isDarkMode" (toggleSidebarEvent)="toggleSidebar()"
      (toggleDarkModeEvent)="toggleDarkMode()">
    </app-admin-header>
<div class="pr-3 pl-3 mt-5">
  <h2 class="text-3xl font-bold mb-6 dark:text-white ">{{tr('National ID Verifications')}}</h2>

  <div *ngIf="!loading" class="overflow-x-auto bg-white dark:bg-gray-800 shadow rounded-lg mt-4">
    <table class="w-full text-left min-w-[400px]">
      <thead class="bg-gray-100 dark:bg-gray-700">
        <tr>
          <th class="px-4 py-3 text-gray-900 dark:text-gray-100" >{{tr('User')}}</th>
          <th class="px-4 py-3 text-gray-900 dark:text-gray-100" >{{tr('Submitted')}}</th>
          <th class="px-4 py-3 text-gray-900 dark:text-gray-100" >{{tr('Status')}}</th>
          <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('Action')}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of pendingList">
          <td class="px-4 py-3 font-medium text-gray-900 dark:text-gray-100">{{ item.userName }}</td>

          <td class="px-4 py-3 font-medium text-gray-900 dark:text-gray-100">
            {{ item.submittedAt | date : 'short' }}
          </td>

          <td class="px-4 py-3 font-medium text-gray-900 dark:text-gray-100">
            <span class="px-3 py-1 rounded-full text-sm bg-yellow-200 text-yellow-800 font-semibold">
              {{ item.verificationStatus }}
            </span>
          </td>

          <td cclass="px-4 py-3 font-medium text-gray-900 dark:text-gray-100">
            <button
              class="px-4 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg shadow"
              (click)="viewDetails(item.id)"
            >
              {{tr('View')}}
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Loading -->
  <div class="text-center mt-10" *ngIf="loading">
    <div class="w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
  </div>
</div>
  </main>
  </section>
