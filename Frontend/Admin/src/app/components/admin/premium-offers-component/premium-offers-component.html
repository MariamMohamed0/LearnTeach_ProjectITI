<section class="flex w-full min-h-screen bg-gray-50 dark:bg-gray-900 ">
  <div [ngClass]="{
        'fixed inset-0 z-50 transform transition-transform duration-300': isMobile(),
        '-translate-x-full': isMobile() && !isSidebarOpen,

        'w-7': !isSidebarOpen && !isMobile(),
        'w-60': isSidebarOpen || isMobile()
      }" class="bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 flex-shrink-0">
    <app-sidebar [collapsed]="!isSidebarOpen"></app-sidebar>
  </div>

  <div *ngIf="isSidebarOpen && isMobile()" class="fixed inset-0 bg-black/40 z-40" (click)="toggleSidebar()"></div>

  <main [ngClass]="{
      'ml-0 w-full': isMobile(),
      'ml-9 w-[calc(100%-2rem)]': !isSidebarOpen && !isMobile(),   
      'ml-5 w-[calc(100%-14rem)]': isSidebarOpen && !isMobile()   
    }" class="flex flex-col transition-all duration-300  overflow-auto">

    <app-admin-header [isDarkMode]="isDarkMode" (toggleSidebarEvent)="toggleSidebar()"
      (toggleDarkModeEvent)="toggleDarkMode()">
    </app-admin-header>

        <!-- Title & Add Button -->
      <div class="pl-3 pr-3 mt-4">
          <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">
                {{ tr('Premium Offers Section') }}
            </h1>


            <button [routerLink]="['/admin/premium-offers/create']" class="flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-xl shadow-md
 hover:bg-blue-700 hover:scale-[1.05] transition-all duration-200 active:scale-95">
                {{ tr('Add New Offer') }}
            </button>


        </div>

        <!-- Packages Table -->
        <div class="bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                <thead class="bg-gray-100 dark:bg-gray-700">
                    <tr>
                        <th class="px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-200">#</th>
                        <th class="px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-200">
                            {{ tr('Offer Name') }}
                        </th>
                        <th class="px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-200">
                            {{ tr('Price (USD)') }}
                        </th>
                        <th class="px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-200">
                            {{ tr('Type') }}
                        </th>
                        <th class="px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-200">
                            {{ tr('Features') }}
                        </th>
                        <th class="px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-200">
                            {{ tr('Actions') }}
                        </th>
                    </tr>
                </thead>

                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">

                    <tr *ngFor="let pkg of packages; let i = index"
                        class="transition-all duration-300 ease-out hover:bg-gray-100 dark:hover:bg-gray-700 animate-[fadeIn_.4s_ease-out]">

                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-200">{{ i + 1 }}</td>
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-200">{{ pkg.packageName }}</td>
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-200">${{ pkg.packagePrice }}</td>
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-200">{{ pkg.packageDuration }}</td>
                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-200">{{ pkg.packageDetails }}</td>

                        <td class="px-6 py-4 text-sm text-gray-900 dark:text-gray-200 flex gap-2">

                            <button [routerLink]="['/admin/premium-offers/edit', pkg.packageId]" class="flex items-center gap-2 bg-emerald-600 text-white px-4 py-1.5 rounded-lg shadow-md
         hover:bg-emerald-700 hover:scale-[1.05] transition-all duration-200 active:scale-95">
                                {{ tr('Edit') }}
                            </button>



                            <!-- Delete Button -->
                            <button class="flex items-center gap-1 bg-red-600 text-white px-3 py-1 rounded-lg shadow-sm
                       hover:bg-red-700 hover:scale-105 transition-all duration-200"
                                (click)="deletePackage(pkg.packageId)">
                                {{ tr('Delete') }}
                            </button>


                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
      </div>

    </main>
</section>

<!-- Animations -->
<style>
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(8px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes pageFade {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }
</style>