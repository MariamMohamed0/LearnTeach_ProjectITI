<section class="flex w-full min-h-screen bg-gray-50 dark:bg-gray-900 ">
    <div [ngClass]="{
        'fixed inset-0 z-50 transform transition-transform duration-300': isMobile(),
        '-translate-x-full': isMobile() && !isSidebarOpen,

        'w-7': !isSidebarOpen && !isMobile(),
        'w-60': isSidebarOpen || isMobile()

      }" class="bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 flex-shrink-0">
        <app-sidebar [collapsed]="!isSidebarOpen"></app-sidebar>
    </div>

    <div *ngIf="isSidebarOpen && isMobile()" class="fixed inset-0 bg-black/40 z-40" (click)="toggleSidebar()"></div>

    <main [ngClass]="{
      'ml-0 w-full': isMobile(),
      'ml-9 w-[calc(100%-2rem)]': !isSidebarOpen && !isMobile(),   
      'ml-5 w-[calc(100%-14rem)]': isSidebarOpen && !isMobile()   
    }" class="flex flex-col transition-all duration-300 overflow-auto">

        <app-admin-header [isDarkMode]="isDarkMode" (toggleSidebarEvent)="toggleSidebar()"
            (toggleDarkModeEvent)="toggleDarkMode()">
        </app-admin-header>

        <section class="min-h-screen bg-gray-50 dark:bg-gray-900 p-6 flex justify-center items-start">
            <div
                class="bg-white dark:bg-gray-800 p-6 w-full max-w-2xl rounded-xl shadow-lg transition-all duration-500">
                <h1 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">
                    {{ tr('Edit Package') }}
                </h1>

                <form #editForm="ngForm" (ngSubmit)="save()" class="grid grid-cols-1 md:grid-cols-2 gap-4">

                    <!-- Offer Name -->
                    <div class="col-span-2 md:col-span-1">
                        <label class="block mb-1 text-gray-700 dark:text-gray-200 font-medium">
                            {{ tr('Offer Name') }}
                        </label>
                        <input type="text" name="packageName" required [(ngModel)]="formData.packageName"
                            class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-400 dark:bg-gray-700 dark:text-white transition duration-300" />
                        <small *ngIf="packageNameError" class="text-red-500 mt-1 block">{{ packageNameError }}</small>
                    </div>

                    <!-- Price -->
                    <div class="col-span-2 md:col-span-1">
                        <label class="block mb-1 text-gray-700 dark:text-gray-200 font-medium">
                            {{ tr('Price (USD)') }}
                        </label>
                        <input type="number" name="packagePrice" required [(ngModel)]="formData.packagePrice"
                            class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-400 dark:bg-gray-700 dark:text-white transition duration-300" />
                        <small *ngIf="packagePriceError" class="text-red-500 mt-1 block">{{ packagePriceError }}</small>
                    </div>

                    <!-- Duration -->
                    <div class="col-span-2 md:col-span-1">
                        <label class="block mb-1 text-gray-700 dark:text-gray-200 font-medium">
                            {{ tr('Type / Duration') }}
                        </label>
                        <input type="text" name="packageDuration" required [(ngModel)]="formData.packageDuration"
                            class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-400 dark:bg-gray-700 dark:text-white transition duration-300" />
                        <small *ngIf="packageDurationError" class="text-red-500 mt-1 block">{{ packageDurationError
                            }}</small>
                    </div>

                    <!-- Diamond Points -->
                    <div class="col-span-2 md:col-span-1">
                        <label class="block mb-1 text-gray-700 dark:text-gray-200 font-medium">
                            {{ tr('Diamond Points') }}
                        </label>
                        <input type="number" name="diamondPoints" required [(ngModel)]="formData.diamondPoints"
                            class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-400 dark:bg-gray-700 dark:text-white transition duration-300" />
                        <small *ngIf="diamondPointsError" class="text-red-500 mt-1 block">{{ diamondPointsError
                            }}</small>
                    </div>

                    <!-- Features -->
                    <div class="col-span-2">
                        <label class="block mb-1 text-gray-700 dark:text-gray-200 font-medium">
                            {{ tr('Features / Details') }}
                        </label>
                        <textarea name="packageDetails" [(ngModel)]="formData.packageDetails"
                            class="w-full border rounded-lg px-3 py-2 h-28 focus:ring focus:ring-blue-400 dark:bg-gray-700 dark:text-white transition duration-300"></textarea>
                        <small *ngIf="packageDetailsError" class="text-red-500 mt-1 block">{{ packageDetailsError
                            }}</small>
                    </div>

                    <!-- Buttons -->
                    <div class="col-span-2 flex flex-col md:flex-row justify-end gap-3 mt-4">
                        <button type="button" (click)="cancel()"
                            class="w-full md:w-auto px-5 py-2 bg-gray-300 dark:bg-gray-600 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transform hover:scale-105 transition duration-300">
                            {{ tr('Cancel') }}
                        </button>

                        <button type="submit" [disabled]="isSaving"
                            class="w-full md:w-auto px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transform hover:scale-105 transition duration-300">
                            {{ isSaving ? tr('Saving...') : tr('Save') }}
                        </button>
                    </div>

                </form>
            </div>
        </section>
    </main>
</section>