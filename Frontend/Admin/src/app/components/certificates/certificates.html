<section class="flex w-full min-h-screen bg-gray-50 dark:bg-gray-900 ">
  <div [ngClass]="{
        'fixed inset-0 z-50 transform transition-transform duration-300': isMobile(),
        '-translate-x-full': isMobile() && !isSidebarOpen,

        'w-7': !isSidebarOpen && !isMobile(),
        'w-60': isSidebarOpen || isMobile()
      }" class="bg-white dark:bg-gray-800 shadow-lg transition-all duration-300 flex-shrink-0">
    <app-sidebar [collapsed]="!isSidebarOpen"></app-sidebar>
  </div>

  <div *ngIf="isSidebarOpen && isMobile()" class="fixed inset-0 bg-black/40 z-40" (click)="toggleSidebar()"></div>

  <main [ngClass]="{
      'ml-0 w-full': isMobile(),
      'ml-9 w-[calc(100%-2rem)]': !isSidebarOpen && !isMobile(),   
      'ml-5 w-[calc(100%-14rem)]': isSidebarOpen && !isMobile()   
    }" class="flex flex-col transition-all duration-300  overflow-auto">

    <app-admin-header [isDarkMode]="isDarkMode" (toggleSidebarEvent)="toggleSidebar()"
      (toggleDarkModeEvent)="toggleDarkMode()">
    </app-admin-header>
<div class="p-6">
  <h1 class="text-2xl font-bold mb-4 dark:text-white">{{tr('All Certificates')}}</h1>

  <div *ngIf="loading" class="text-center">{{tr('Loading...')}}</div>

<div class="overflow-x-auto bg-white dark:bg-gray-800 shadow rounded-lg mt-4 text-center">
    <table *ngIf="!loading && certificates.length > 0"  class="w-full text-left min-w-[600px]">
    <thead  class="bg-gray-100 dark:bg-gray-700">
      <tr>
        <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('User ID')}}</th>
        <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('Certificate Name')}}</th>
        <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('Institution')}}</th>
        <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('Year')}}</th>
        <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('Image')}}</th>
        <th class="px-4 py-3 text-gray-900 dark:text-gray-100">{{tr('Actions')}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cert of certificates" class="border-b hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <td class="px-4 py-3 text-gray-700 dark:text-gray-200">{{ cert.userId }}</td>
        <td class="px-4 py-3 text-gray-700 dark:text-gray-200">{{ cert.cername }}</td>
        <td class="px-4 py-3 text-gray-700 dark:text-gray-200">{{ cert.instatutionName }}</td>
        <td class="px-4 py-3 text-gray-700 dark:text-gray-200">{{ cert.earnedYear }}</td>
        <td class="px-4 py-3 text-gray-700 dark:text-gray-200">
          <img *ngIf="cert.cerpic" [src]="cert.cerpic" class="h-16 cursor-pointer" (click)="openImage(cert.cerpic)" />
        </td>
        <td class="px-4 py-3 text-gray-700 dark:text-gray-200">
          <button class="px-3 py-1 bg-red-600 text-white rounded" (click)="deleteCertificate(cert)">
            {{tr('Delete')}}
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

  <div *ngIf="!loading && certificates.length === 0" class="text-center p-6 text-gray-500">
    {{tr('No certificates found.')}}
  </div>
</div>
</main>
</section>





  